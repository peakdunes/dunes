@using DUNES.Shared.DTOs.Auth
@model List<MenuItemDto>

@if (Model != null && Model.Any())
{
    <nav aria-label="breadcrumb" class="mt-2 mb-3">
        <ol class="breadcrumb bg-white rounded px-3 py-2 fs-5 shadow-sm" style="--bs-breadcrumb-divider: '>';">
            @for (int i = 0; i < Model.Count; i++)
            {
                var item = Model[i];
                var isLast = (i == Model.Count - 1);

                if (isLast)
                {
                    <li class="breadcrumb-item active fw-semibold navegacion text-primary" aria-current="page">
                        @item.Title
                    </li>
                }
                else
                {
                    <li class="breadcrumb-item">
                        @if (!string.IsNullOrEmpty(item.Controller) && !string.IsNullOrEmpty(item.Action))
                        {
                            <a asp-controller="@item.Controller" asp-action="@item.Action" 
                               class="text-decoration-none text-primary navegacion">
                                @item.Title
                            </a>
                        }
                        else
                        {
                            <a href="javascript:void(0);" onclick="loadMenuLevel('@item.Code')" 
                               class="text-decoration-none text-primary navegacion">
                                @item.Title
                            </a>
                        }
                    </li>
                }
            }
        </ol>
    </nav>
}